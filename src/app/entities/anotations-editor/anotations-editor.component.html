<div class="anotation" [ngStyle]="{'background-color': color}" (click)="onEditingComplete()">
    <div class="controls">
        <button class="close-button" (click)="onDeleteHandler()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="12px" height="12px">
                <path
                    d="M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z">
                </path>
            </svg>
        </button>
        <button *ngIf="mode === 'new' && !!data && data !== ''" class="create-button" (click)="onCreateHandler()">
            <svg class="svg-icon" width="16px" height="16px"
                style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024"
                version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M810.005333 554.005333l-256 0 0 256-84.010667 0 0-256-256 0 0-84.010667 256 0 0-256 84.010667 0 0 256 256 0 0 84.010667z" />
            </svg>
        </button>
    </div>
    <div class="content">
        <ng-container *ngIf="contentType === 'text'; else image">
            <textarea autofocus #textarea class="textarea"
                placeholder="Чтобы начать редактирование, переведите поле в фокус. Чтобы завершить редактирование, выведите поле из фокуса"
                [(ngModel)]="data" (click)="onTextAreaClickHandler($event)" (blur)="onEditingComplete()"></textarea>
        </ng-container>

        <ng-template #image>
            <img *ngIf="data !== undefined; else emptyImage" [src]="data" />
            <ng-template #emptyImage>
                <dv-image-empty></dv-image-empty>
            </ng-template>
        </ng-template>
    </div>
</div>